## المستوى ٢

مع هذه الخطوة ، ستقوم بإضافة مستوى جديد إلى اللعبة يمكن للاعب الوصول إليها بمجرد الضغط على الزر. في وقت لاحق ، يمكنك تغيير الكود الخاص بك لجعله يحتاج إلى عدد معين من النقاط ، أو أي شيء آخر ، للوصول إلى هناك.

### الانتقال إلى المستوى التالي

--- task ---

أولاً ، قم بإنشاء كائن جديد مثل زر عن طريق إضافة واحد من المكتبة أو رسم كائن خاص بك. لقد فعلت شيئًا من الاثنين وخرجت بهذا:

![كائن الزر لتبديل المستويات](images/levelButton.png)

--- /task ---

--- task ---

الآن ، التعليمات البرمجية لهذا الزر ذكية: تم تصميمها بحيث في كل مرة تقوم بالنقر فوق الزر، سينقلك إلى المستوى التالي ، بغض النظر عن عدد المستويات الموجودة.

أضف هذه البرامج النصية إلى كائن **الزر** الخاص بك. سوف تحتاج إلى إنشاء بعض المتغيرات بينما تفعل ذلك.

```blocks3
+    عند النقر على العلم الاخضر
+    set [max-level v] to [2]
+    set [min-level v] to [1]
+    set [current-level v] to [1]
```

```blocks3
+ عند النقر فوق هذا الكائن
+ قم بتغيير [المستوى-الحالي v] بمقدار (1)
+ إذا <(المستوى الحالي) > (المستوى الأعلى :: المتغيرات)> ثم
      set [current-level v] to (min-level ::variables)
    end  
+ نشر [تحصيل-الربح]
+ نشر (انضمام [level-](المستوى الحالي))
```

--- /task ---

هل تستطيع أن ترى كيف سيستخدم البرنامج المتغيرات التي قمت بإنشائها؟

+ `المستوى الأقصى`{:class="block3variables"} يخزن أعلى مستوى
+ `المستوى الادنى`{:class="block3variables"} يخزن أقل مستوى
+ `المستوى الحالي`{:class="block3variables"} يخزن المستوى الذي يكون عليه اللاعب الآن

كل هذه الأشياء تحتاج إلى ضبطها بواسطة المبرمج (أنت!)، لذلك إذا أضفت مستوى ثالثًا، فلا تنسَ تغيير قيمة ا`المستوى الأقصى`{:class="block3variables"}! وبالطبع فان `المستوى الادنى`{:class="block3variables"} لن تحتاج إلى تغييره أبداً.

تستخدم عمليات البث لإخبار الكائنات الأخرى اي مستوى مطلوب عرضه، ومسح المقتنيات عند بدء مستوى جديد.

### اجعل الكائنات تتفاعل

#### كائنات الـ**مقتنيات**

أنت الآن بحاجة إلى الحصول على كائنات اخرى للرد على هذا البث! ابدأ بأسهلها: مسح جميع المقتنيات.

--- task ---

أضف الكود التالي إلى البرامج النصية للكائن **المقتنيات** لإخبار جميع النسخ لـ`تختفي`{:class="block3looks"} عندما يتلقون بث المسح:

```blocks3
+ عندما أتلقى [collectable-cleanup v]
+ اخفاء
```

--- /task ---

نظرًا أن أحد الأشياء الأولى التي يقوم بها أي استنساخ جديد هو إظهار نفسه ، فلا داعي للقلق بشأن إظهار المقتنيات!

#### كائنات الـ**منصات**

الآن لتبديل كائنات الـ**منصات**. يمكنك تصميم مستواك الجديد في وقت لاحق إذا أردت ، ولكن الآن دعونا نستخدم المستوى الذي قمت بتضمينه بالفعل - سترى السبب في الخطوة التالية!

--- task ---

أضف هذه التعليمات البرمجية إلى كائن **اللاعب**:

```blocks3
+ عندما أتلقى [المستوى 1 v]
+ بدل الزي إلى [المستوى 1 v]
+ العرض
```

```blocks3
+ عندما أتلقى [المستوى-2 v]
+ بدل الزي إلى [المستوى 2 v]
+ العرض
```

--- /task ---

يتلقى رسائل `انضم`{:class="block3operators"} للـ `مستوى-`{:class="block3variables"} و `المستوى الحالي`{:class="block3variables"} التي ارسلها كائن **الزر**، ويستجيب عن طريق تغيير شكل **المنصات**.

#### كائن **العدو**

--- task ---

في النصوص البرمجية للكائن **العدو**، فقط تأكد من اختفاء الكائن عندما يدخل اللاعب المستوى 2 ، مثل هذا:

```blocks3
+ عندما أتلقى [المستوى-1 v]
+ العرض
```

```blocks3
+ عندما أتلقى [المستوى-2 v]
+ إخفاء
```

--- /task ---

إذا كنت تفضل ذلك ، يمكنك نقل العدو إلى منصة أخرى بدلاً من ذلك. في هذه الحالة ، يمكنك استخدام `انتقل إلى`{:class="block3motion"} block بدلاً من `العرض`{:class="block3looks"} و `إخفاء`{:class="block3looks"} الكتل.

### اجعل **شخصية اللاعب** تظهر في المكان المناسب

كلما بدأ مستوى جديد، كائن **شخصية اللاعب** يحتاج إلى الذهاب إلى المكان المناسب لهذا المستوى. لتحقيق ذلك، تحتاج إلى تغيير من أين يحصل الكائن على إحداثياته عندما يظهر لأول مرة على المسرح. في الوقت الحالي ، فان قيم المحورين `س` و `ص` مثبتة في التعليمات البرمجية.

--- task ---

ابدأ بإنشاء متغيرات لإحداثيات البداية: `بداية-س`{:class="block3variables"} و `بداية-ص`{:class="block3variables"}. ثم قم بتوصيلها في كتلة `انتقل إلى`{:class="block3motion"} في كتل `إعادة تعيين الشخصية`{:class="block3myblocks"} الموجودة في كتل **لبناتي** بدلا من القيم الثابتة لـ `س` و `ص`:

```blocks3
    حدد إعادة تعيين الشخصية
    set [can-jump v] to [true]
    set [x-velocity v] to [0]
    set [y-velocity v] to [-0]
+ انتقل إلى  x: (start-x) y: (start-y)
```

--- /task ---

--- task ---

ثم لكل بث يعلن بداية المستوى ، اضبط قيم المحاور `بداية-س`{:class="block3variables"} و `بداية-ص`{:class="block3variables"} الصحيحة في الاستجابة، وإضافة **استدعاء** إلى `إعادة تعيين الشخصية`{:class="block3myblocks"}:

```blocks3
+ عندما أتلقى [level-1 v]
+ اضبط [start-x v] الى [-183]
+ set [start-y v] إلى [42]
+اعادة الشخصية :: الزي
```

```blocks3
+ عندما أتلقى [level-2 v]
+ set [start-x v] إلى [-218]
+ set [start-y v] إلى [-143]
+ اعادة الشخصية :: الزي
```

--- /task ---

### بدءا من المستوى 1

تحتاج أيضًا إلى التأكد من أنه في كل مرة يبدأ فيها شخص ما اللعبة ، يكون المستوى الأول الذي يلعبه هو المستوى 1.

--- task ---

انتقل إلى النص البرمجي الخاص بـ`اعادة اللعبة`{:class="block3myblocks"} وإزالة الاستدعاء `إعادة تعيين الشخصية`{:class="block3myblocks"} منه. بدلا عنها، قم ببث `المستوى الادنى`{:class="block3variables"}. سيقوم الكود الذي أضفته بالفعل مع هذه البطاقة بإعداد إحداثيات البداية الصحيحة لكائن **شخصية اللاعب**، وأيضا استدعاء `إعادة تعيين الشخصية`{:class="block3myblocks"}.

```blocks3
    تحديد اعادة تعيين اللعبة
    set rotation style [left-right v]
    set [jump-height v] to [15]
    set [gravity v] to [2]
    set [x-speed v] to [1]
    set [y-speed v] to [1]
    set [lives v] to [3]
    set [points v] to [0]
+ النشر (انضم [level-] (المستوى-المتوسط::المتغيرات))
```

--- /task ---

--- collapse ---
---
title: إعادة تعيين شخصية اللاعب مقابل إعادة تعيين اللعبة
---

لاحظ أن الكتلة الأولى في النص الرئيسي لكائن**شخصية اللاعب** للعلم الأخضر هو استدعاء لـ `إعادة تعيين اللعبة`{:class="block3myblocks"} كتل **لبناتي**.

تقوم هذه الكتلة بإعداد جميع المتغيرات الخاصة بلعبة جديدة ثم تقوم باستدعاء `إعادة تعيين الشخصية`{:class="block3myblocks"} في كتل **لبناتي**، والذي يضع الشخصية مرة أخرى في وضع البداية الصحيح.

وجود الكود البرمجي لـ `إعادة تعيين الشخصية`{:class="block3myblocks"} في كتلة خاصة به منفصلة عن `إعادة ضبط اللعبة`{:class="block3myblocks"} يسمح لك بإعادة تعيين الشخصية إلى مواضع مختلفة **بدون** الحاجة إلى إعادة تعيين اللعبة بأكملها.

--- /collapse ---