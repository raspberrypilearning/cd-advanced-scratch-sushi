## إضافة بعض المنافسة

اللعبة الخاصة بك تعمل والآن يمكنك جمع النقاط ، والحصول على طاقات خاصة من الطاقات العليا, والخسارة. نحن نصل إلى مكان ما! ربما سيكون من الممتع إضافة بعض المنافسة رغم ذلك - ماذا عن تضمين شخصية تتحرك قليلاً ، لكن ليس من المفترض أن تلمسها؟ سيكون هذا مشابهًا للأعداء في ألعاب المنصات التقليدية مثل Super Mario التي نستلهمها هنا.

--- task ---

أولا ، اختيار كائن لإضافتة كعدوك. لأن شخصية اللاعب لدينا هي قطة ، فقد اخترت كلبًا. هناك الكثير من الكائنات الأخرى التي يمكنك إضافتها رغم ذلك. أنا أيضا قمت باعادة تسمية الكائن **العدو** ، فقط لجعل الأمور أكثر وضوحا بالنسبة لي.

تغيير حجم الكائن إلى الحجم الصحيح ، ووضعه في مكان ما مناسب للبدء. إليك ما يبدو عليه الكائن الخاص بي:

![كائن العدو الكلب](images/enemySprite.png)

--- /task ---

--- task ---

اكتب الكود الأسهل أولاً: قم بإعداد الكتلة الخاصة به للرد على رسالة `اللعبة انتهت`{:class="events"} لجعل العدو يختفي عندما يخسر اللاعب اللعبة.

```blocks3
+    when I receive [انتهت اللعبة v]
+    hide
```

--- /task ---

--- task ---

الآن تحتاج إلى كتابة كود لما يفعله العدو. استخدم الكود الخاص بي هنا ، لكن فكر في إضافة وحدات إضافية! (ماذا لو استطاعوا الانتقال الفوري إلى منصات مختلفة؟ ماذا لو كانت هناك قوة تجعلهم يتحركون بشكل أسرع أم أبطأ؟)

```blocks3
+    when green flag clicked
+    show
+    set [خطوات حركة العدو v] to [5]
+    set rotation style [left-right v]
+    go to x: (-25) y: (-9)
+    forever
        move (خطوات حركة العدو) steps
        if <not <touching [المنصات v] ?>> then
            set [خطوات حركة العدو v] to ((خطوات حركة العدو) * (-1))
        end
     end
```

**ملاحظة**: إذا قمت فقط بسحب كتلة `انتقل إلى`{:class="block3motion"} في لوحة الكائن ولا تغير قيم `س` و `ص`، سوف تكون قيم الموقع الحالي لكائن **العدو**!

التعليمات البرمجية في الكتلة `إذا... ثم`{:class="block3control"} ستجعل الكائن يستدير عندما يصل إلى نهاية المنصة!

--- /task ---

الشيء التالي الذي ستحتاج إليه هو أن يفقد اللاعب حياته عندما يلامس كائن **شخصية اللاعب الخاص به** كائن **العدو**. أيضا ، تحتاج إلى التأكد من الكائنات **توقف** لمس سريعًا حقًا ، حيث إن الكود الذي يبحث عن اللمس سيظل قيد التشغيل وسيظل اللاعب يفقد حياته.

--- task ---

إليك كيف فعلت ذلك ، ولكن يمكنك محاولة تحسين هذا الكود! قمت بتعديل كتلة الكائن **شخصية اللاعب** الرئيسية. أضف الكود الجديد قبل كتلة `if`{:class="block3control"} والتي تتحقق مما إذا كنت لا تملك حياة.

```blocks3
    when green flag clicked
    إعادة اللعبه :: custom
    forever
        الفيزياء الرئيسية :: custom
        if <(y position) < [-179]> then
            hide
            إعادة تعيين شخصية :: custom
            change [الأرواح v] by (-1)
            wait (0.05) secs
            show
        end
+        if <touching [عدو v] ?> then
            hide
            go to x: (-187) y: (42)
            change [الأرواح v] by (-1)
            wait (0.5) secs
            show
+        end
        if <(الأرواح) < [1]> then
            خسارة :: custom
        end
    end
```

--- /task ---

يخفي الرمز الجديد كائن **شخصية اللاعب** ، توحريكه مرة أخرى إلى موضع البداية ، ويقلل من متغير `حياة`{:class="block3variables"} بمقدار `1` ، وبعد نصف ثانية يجعل الكائن يظهر مجددا.