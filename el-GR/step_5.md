## Σούπερ power-ups!

Τώρα που έχεις κάνει ένα νέο βραβείο να δουλεύει, ήρθε η ώρα να το φτιάξεις κάτι πολύ εντυπωσιακό: Ας κάνουμε μια «βροχή» βραβείων για λίγα δευτερόλεπτα, αντί απλώς να δίνουμε μια επιπλέον ζωή.

Για αυτό, πρόκειται να χρησιμοποιήσεις μια άλλη `μετάδοση`{:class="block3events"} μηνύματος.

\--- task \---

Αρχικά, κάνε το μπλοκ `αντίδραση-σε-παίκτη`{:class="block3myblocks"} να για μεταδίδει ένα μήνυμα όταν ο χαρακτήρας του παίκτη αγγίξει ένα βραβείο τύπου`2`. Μπορείς να ονομάσεις το μήνυμα `βροχή-βραβείων`{:class="block3events"}.

```blocks3
    define react-to-player (type)
    if <(type ::variable) = [1]> then
        change [points v] by (collectable-value ::variables)
    end
    if <(type ::variable) = [2]> then
-        change [lives v] by [1]    
+        broadcast [collectable-rain v]
    end
```

\--- /task \---

Τώρα πρέπει να δημιουργήσεις ένα νέο κομμάτι κώδικα μέσα στις εντολές του αντικειμένου **Βραβείο** που θα ξεκινάει όποτε μεταδίδεται το μήνυμα `βροχή-βραβείων`{:class="block3events"}.

\--- task \---

Πρόσθεσε αυτόν τον κώδικα για το αντικείμενο **Βραβείο** για να το κάνεις ακούει το μήνυμα `βροχή-βραβείων`{:class="block3events"}.

```blocks3
+    when I receive [collectable-rain v]
+    set [collectable-frequency v] to [0.000001]
+    wait (1) secs
+    set [collectable-frequency v] to [1]
```

\--- /task \---

## \--- collapse \---

## title: Τι κάνει το νέο μπλοκ;

Αυτό το κομμάτι κώδικα περιμένει να λάβει ένα μήνυμα και αποκρίνεται ρυθμίζοντας τη μεταβλητή `συχνότητα-βραβείου`{:class="block3variables"} σε ένα πολύ μικρό αριθμό, μετά περιμένει για ένα δευτερόλεπτο και, στη συνέχεια, αλλάζει τη μεταβλητή πάλι `1`.

Ας δούμε πώς η μεταβλητή `συχνότητα-βραβείου`{:class="block3variables"} χρησιμοποιείται για να προκαλέσει μια βροχή από βραβεία.

Στον κύριο βρόχο του παιχνιδιού, το μέρος του κώδικα που κάνει τους κλώνους του αντικειμένου **Βραβείο** να λάβουν εντολή από τη μεταβλητή `συχνότητα-βραβείων` {:class="block3variables"} για πόσο χρόνο θα περιμένει ανάμεσα στη δημιουργία ενός κλώνου και του επόμενου:

```blocks3
    repeat until <not <(create-collectables ::variables) = [true]>>
        if < [50] = (pick random (1) to (50))> then
            set [collectable-type v] to [2]
        else
            set [collectable-type v] to [1]
        end
        wait (collectable-frequency ::variables) secs
        go to x: (pick random (-240) to (240)) y:(179)
        create clone of [myself v]
    end
```

Μπορείς να δεις ότι το μπλοκ `περίμενε`{:class="block3control"} εδώ κάνει παύση τον κώδικα για το χρονικό διάστημα που ορίζεται από τη `συχνότητα-βραβείου`{:class="block3variables"}.

Εάν η τιμή της `συχνότητα-βραβείου`{:class="block3variables"} είναι `0,000001`, το μπλοκ `περίμενε`{:class="block3control"} κάνει παύση μόνο για **ένα εκατομμυριοστό** του δευτερολέπτου, που σημαίνει ότι ο βρόχος `επανάλαβε ώσπου`{:class="block3control"} θα εκτελεστεί πολύ περισσότερες φορές από το κανονικό. Ως αποτέλεσμα, ο κώδικας πρόκειται να δημιουργήσει **πολλά** περισσότερα βραβεία από ό,τι συνήθως, μέχρι η `συχνότητα-βραβείου`{:class="block3variables"} γίνει πάλι `1`.

Μπορείς να σκεφτείς τυχόν προβλήματα που μπορεί να προκαλέσει αυτό; Θα υπάρξουν πολύ περισσότερα βραβεία… τι εάν συνέχιζες να τα πιάνεις;

\--- /collapse \---